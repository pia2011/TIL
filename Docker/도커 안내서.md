## Docker란 무엇인가

도커는 컨테이너 기반의 오픈소스 가상화 플랫폼이다.

다른 도구와 마찬가지로 좀 더 편리한 서버관리 위해 만들어졌고 널리 사용되고 있다.

가상 머신처럼 독립적으로 실행되지만
* 가상머신 보다 빠르고
* 가상머신 보다 쉽고
* 가상머신 보다 효율적이다.

### 도커의 특징

#### 확장성/이식성

* 도커가 설치되어 있다면 어디서든 컨테이너를 실행할 수 있음
* 특정 회사나 서비스에 종속적이지 않음
* 쉽게 개발서버를 만들 수 있고 테스트 서버 생성도 간편함

#### 표준성

* 컨테이너라는 표준으로 서버를 배포하므로 모든 서비스들의 배포과정이 동일해짐

#### 이미지

* 이미지에서 컨테이너를 생성하기 때문에 반드시 이미지를 만드는 과정이 필요
* Dockerfile을 이용하여 이미지를 만들고 처음부터 재현 가능
* 빌드 서버에서 이미지를 만들려면 해당 이미지를 이미지 저장소에 저장하고 운영서버에서 이미지를 불러옴

#### 설정 관리

* 보통 환경변수로 제어함
* 컨테이너를 띄울 때 환경변수를 같이 지정
* 하나의 이미지가 환경변수에 따라 동적으로 설정파일을 생성하도록 만들어져야함

#### 자원관리

* 컨테이너는 삭제 후 새로 만들면 모든 데이터가 초기화됨
* 업로드 파일을 외부 스토리지와 링크하여 사용하거나 S3같은 별도의 저장소가 필요
* 세션이나 캐시를 memcached나 redis와 같은 외부로 분리

### 도커가 가져온 변화

* 클라우드 이미지보다 관리하기 쉬움
* VM처럼 사용하지만 성능저하 거의 없음
* 복잡한 기술 몰라도 사용가능
* 이미지 빌드 기록이 남음
* 코드와 설정으로 관리하기 때문에 재현 및 수정 가능
* 오픈 소스이기 떄문에 특정 회사 기술에 종속적이지 않음

도커는 모든것을 컨테이너로 만들 수 있다.

![image](https://user-images.githubusercontent.com/53935439/155386310-7e7bb03d-7cad-46e2-9ae3-717fc8054565.png)


## 도커 설치하기

Linux

최신 버전 도커 설치
```
curl -s https://get.docker.com/ | sudo sh
```

우분투 유저 권한 추가
```
sudo usermod -aG docker ubuntu
```

설치 확인
```
docker -version
```

## 기본 명령어

![image](https://user-images.githubusercontent.com/53935439/155388398-af9ba225-ebd6-471c-ad9c-77baa8151b40.png)

참고로 도커는 서버와 클라이언트가 둘 다 띄워져 동작한다. 사용자가 명령어를 치면 서버에서 처리를 한 다음 그 결과를 사용자가 받아서 볼 수 있는 구조이다.

