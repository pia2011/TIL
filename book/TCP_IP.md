## 네트워크란?

## 컴퓨터 네트워크

컴퓨터 네트워크란 컴퓨터끼리 케이블이나 전파 등의 수단을 이용하여 연결해 다양한 데이터를 주고받을 수 있는 상태로 되어 있는 것을 말한다.

컴퓨터 네트워크는 다음과 같은 것들이 있다.

* LAN : 비교적 좁은 공간에 있는 기기끼리 연결한 네트워(케이블/전파/적외선)
* WAN : 비교적 대규모의 네트워크 (광섬유/케이블)
* 인터넷 : LAN + WAN 전 세계 규모의 네트워크

```
그 외에 지역 한정판 LAN을 인트라넷이라고 한다.
```

## 프로토콜

프로토콜은 간단히 말해 서로간에 문제 없이 교류할 수 있도록 정해진 "규칙" 또는 "절차" 이라고 생각하면 된다.
TCP/IP 또한 통신을 위한 여러가지 프로토콜의 하나이다.

## TCP / IP 탄생 배경

1960년대 ARPANET이라는 네트워크 상에서 사용할 프로토콜로 개발되었다. 당시에는 특정 시설 내에서만 사용하는
LAN 이 주류였기 때문에 각각의 네트워크마다 독자적인 회선, 프로토콜을 가졌는데.. 여러개의 LAN을 연결하는
ARPANET의 원활한 통신을 위해 통신 방법을 통일할 필요성이 발생했고 이때 개발된 것이 바로 TCP/IP이다.

```
컴퓨터 간에 데이터는 데이터를 신호로 변환해서 케이블이나 전파, 적외선을 통해서 목적지로 보내게 되는데
데이터를 받게되는 목적지에서도 신호를 다시 원래의 데이터로 바꾸기 위한 "통일된 절차"가 필요하다. 
이 일련의 흐름을 통일시킨 절차를 기본으로 하여 수행되는 TCP/IP구조가 생겨난 것이고 이 "공통된 구조"로
전 세계의 네트워크를 연결한 것이 바로 인터넷이다.
```

## 통신 서비스

네트워크를 사용하여 이용할 수 있는 기능을 "통신 서비스"라고 한다. TCP/IP라는 것이 등장하고 난 뒤
아래와 같은 다양한 통신 서비스들이 구현되었다.
* WWW
* 전자메일(SMTP)
* 파일 공유
* 원격 로그인
* IP 전화
* 파일 전송

## TCP/IP는 무엇인가?

데이터 송수신에 관한 일련의 작업을 하나로 모은 것이다. 물론 이련의 작업을 자세히 들여다보면 상당히 많은 공정으로 이루어져 있다.
```
엄밀히는 TCP와 IP라는 프로토콜을 가리키는 말이지만, 일반적으로 인터넷에서 사용되는 통신 프로토콜을 총칭하여 TCP/IP라고 한다.
```

* 데이터를 디지털 신호로 변환
* 보낼 곳에 전달
* 디질털 신호를 데이터로 전환

위의 작업을 효율적으로 수행하기 위해서 TCP/IP에서는 5단계의 절차를 거친다.

각 단계는 계층이라고 하며 다음과 같다.

### TCP/IP 5계층

* 애플리케이션 계층
* 트랜스포트 계층
* 네트워크 계층
* 데이터 링크 계층
* 물리 계층

```
데이터 링크 계층과 물리 계층을 합쳐서 4계층으로 취급하는 경우도 있다.
```

TCP/IP의 특징 중 하나는 데이터를 일정한 크기로 분할해서 보낸다는 것이다. 작게 나뉘어진 데이터 하나하나를 패킷이라고
하며, 이런 통신 방법을 패킷 통신이라고 한다.

```
패킷은 데이터 전송 시에 데이터를 일정한 크기로 잘라 보낼 때 정보의 전송 단위이다.
각 패킷에는 데이터뿐만 아니라 목적지 주소, 제어 부호 등의 제어 정보가 담겨 있다.
```

### 장점
* 데이터를 세분화함으로써 하나의 회선을 사용하여 여러 데이터를 거의 동신에 송수신할 수 있다.
* 통신 중에 데이터의 일부가 손상되어도 해당하는 부분만 다시 보내면 된다.


## 통신 프로토콜

### 프로토콜
데이터를 주고 받으려면 송신측과 수신측의 미리 정해놓은 공통된 메뉴얼에 따라 연락을 취해야 하며 이 메뉴얼을 프로토콜이라고 한다.

```
컴퓨터는 정해진 것 이상의 작업은 할 수 없으므로 주고받기의 순서나 처리에 대한 아주 자세한 부분까지 정해주어야 한다.
```

## TCP/IP란
현재 전세계 공통 통신 프로토콜로 채택된 것이 바로 TCP/IP이다.

하지만 데이터를 주고 받는 데는 여러가지 작업이 필요하므로 TCP/IP는 여러 개의 프로토콜로 이루어져 있다.

## 계층화

### 단계로 나눠서 처리

앞서 말했듯이 TCP/IP에 서는 송수신 관련된 일련의 작업을 몇 개의 단계로 나눠서 수행한다.
각 단계를 계층이라고 하며, 층으로 나눈 것을 계층화라고한다.

### TCP/IP 5계층 흐름

흐름은 다음과 같다.

송신측
* 수신측의 애플리케이션에서 처리할 수 있도록 만든다.
* 네트워크 상에서의 공통된 형태로 만든다.
* 수신처로 가는 경로를 정하고 보낼 수 있는 형태로 만든다.
* 비트열로 변환한다.
* 비트열을 전압의 변화나 빛의 점멸 신호로 변화하여 송신한다.

수신측
* 신호를 비트열로 변환한다.
* 비트열을 데이터로 변환한다.
* 데이터의 수신인을 확인하고 자기 것이 아니면 파기한다.
* 데이터에 문제가 있다면 재전송을 요청한다.
* 애플리케이션에서 표시, 재생한다.

## TCP/IP의 구조

### 각 층의 역할과 프로토콜

TCP/IP는 5개의 계층으로 나눠져 있는데 위로 갈 수록사용자와 가까운 작업을 수행하며, 아래로 갈 수록 기계와 가까운 작업을 담당한다.
각 계층에는 다양한 프로토콜이 준비하고 있으며 TCP와 IP도 그 중 하나이다.

* 애플리케이션 계층 : 애플리케이션에 맞춰 통신을 수행할 수 있도록 한다.

EX) HTTP, SMTP, POP3, FTP, TELNET, NNTP, TCP
* 트랜스포트 계층 : 송신된 데이터를 수신측 애플리케이션에 확실히 전달하기 위해 작동한다.

EX) TCP, UDP
* 네트워크 계층 : 수신측 컴퓨터까지 데이터를 전달하기 위해 작동한다.

EX) IP
* 데이터 링크 계층 : 네트워크에 직접 연결된 기기 간을 전송할 수 있도록 만든다.

EX) Ethernet, FDDI, ATM, PPP, PPPoE
* 물리 계층 : 데이터를 신호로 신호를 데이터로 변환한다. 변환 방법은 통신 매체에 의존하기 떄문에 특정 프로토콜이 정해져 있지 않다.


일반적으로 TCP/IP라고 하면 이 5계층 전체를 가리키지만, TCP와 IP라는 두 개의 프로토콜만 카리키는 경우도 있기 때문에
그것과 구별하기 위해서 TCP/IP 프로토콜군(protocol family)

### 프로토콜 조합하기

프로토콜 조합을 바꿈으로써 다양한 애플리케이션이나 기기를 처리할 수 있다. 예를 들어 전자메일 송신의 경우 SMTP와 TCP, IP르 조합해서 쓰면되고,
수신이라면 POP3와 TCP,IP를 조합하면 된다. 이렇게 무엇을 할 것인지에 따라서 사용할 프로토콜의 조합이 달라지게 된다.

## 계층간 연락 방법

### 필요한 정보 추가하기

송신측의 각 계층에서는 수신측의 동일한 계층에서 필요한 정보를 공통된 서식으로 데이터에 추가해 간다. 추가하는 데이터는 다음과 같다.
* 헤더 : 데이터 보다 앞에 추가한 정보
* 트레일러 : 데이터 보다 뒤에 추가한 정보

![image](https://user-images.githubusercontent.com/53935439/154602885-ed058079-35e2-42f6-b7e8-bb7dde191e3e.png)

```
이렇게 데이터와 정보를 하나로 묶어서 다루는 것을 캡슐화라고 한다.
```

### 헤더와 계층화의 관계

송신측의 각 계층에서 추가된 헤더와 트레일러는 수신측의 동일한 계층에서만 사용된다. 따라서 다음과 같이 서로 동의한 계층끼리만 연락을 취하고 있는 것처럼 보인다.

![image](https://user-images.githubusercontent.com/53935439/154603002-3e850533-6cf5-4004-8c78-2ea60d2167de.png)

상위 계층에서 추가된 헤더는 캡슐화되어 있으므로 다은 계층에서는 볼 수 없다.

## 계층으로 보는 데이터 송수신

### 송신측

* 애플리케이션 계층 : 애플리케이션 간에 데이터를 주고받기 위해 필요한 정보를 써 넣는다.
* 트랜스포트 계층 : 애플리케이션을 나타내는 번호와 데이터를 조합하기 위한 정보를 써 넣는다.
* 네트워크 계층 : 송수신함 컴퓨터 주소와 수신 불명인 경우 데이터를 파기하는 표시 등을 써 넣는다.
* 데이터 링크 계층 : 네트워크의 종류에 맞춘 형식으로 보낼 곳의 정보 등을 써 넣는다.

### 수신측

* 데이터 링크 계층 : 헤더에 적힌 정보를 확인하고 지정된 프로토콜에게 전달한다.
* 네트워크 계층 : 헤더에 적힌 목적지가 맞는지 확인하고 지정된 프로토콜에게 전달한다.
* 트랜트포트 계층 : 헤더를 확인하고 데이터를 순서대로 나열해서 조합한다. 데이터에 문제가 있으면 파그에 따른 처리를 한다.
* 애플리케이션 계층 : 지정된 애플리케이션에게 전달한다.

## 패킷

### 패킷 통신

TCP/IP에서는 데이터를 일정한 크기로 분할해서 송수신하는 패킷 교환이라는 방법으로 주고받기를 수행한다.
이러한 통신 방법을 패킷 통신이라고 한다. 과정은 다음과 같다.

송신측에서 데이터를 패킷으로 나누고 각 패킷에 목적지나 원래대로 되돌리기 위한 번호등을 써넣는다. 이후 회선을 사용하여 데이터를 송신하면
하나의 회선으로 여러 개의 데이터를 거의 동시에 주고받을 수 있다.

수신측에서는 자기 앞으로 온 데이터만 받고 만일 손상되어 있으면 해당 패킷만 다시 받는다. 이후 데이터를 원래대로 되돌린다.

어떤 데이터든지 이와 같이 주고받을 수 있다.

## 간단한 문제들

1. 통신에서 사용하기 위해 작게 나뉘어진 데이터는?
2. TCP/IP의 5 계층을 위에서부터 순서대로 나열해보시오.
3. 데이터를 주고 받기 위해 송신측과 수신측의 컴퓨터가 미리 정해놓은 공통된 약속을 무엇인가?
4. TCP/IP의 각 계층에 해당하는 프로토콜을 바르게 찾아서 쓰시오.
```
<보기> 
Ethernet, TCP, HTTP, SMTP, POP3, IP, FTP, TELNET, PPP, UDP
```

TCP/IP의 등장으로 서로 다른 구조를 갖고 있는 컴퓨터끼리 데이터를 주고받기가 가능해졌다.
그리고 그 결과로 등장한 것이 바로 전세계를 연갈하는 거대 네트워크인 인터넷이다. 이렇듯 통신 서비스는 컴퓨터끼리 프로토콜을 통해 정보를 주고받아 이루어진다.
하지만 정확히는 컴퓨터 속에 있는 프로그램끼리 주고 받는다고 하는 편이 정확하다.

대부분의 통신 서비스는 서버와 클라이언트의 주고받기라는 형태로 이루어진다.
* 서버 : 서비스를 제공하는 기능을 갖고 있는 프로그램
* 클라이언트 : 서비스를 받는 기능을 갖고 있는 프로그램

통신 서비스는 클라이언트가 서버에게 요청을 하면서부터 시작된다. 이 떄
서버와 클라이언간에 수행되는 서비스 고유의 주고받기 약속을 애플리케이션 프로토콜이라고 한다.

## 서버와 클라이언트

앞서 말했듯이 서비스를 제공하는 측을 서버, 서비스를 받는 측을 클라이언트라고 한다.

서비스의 종류에 맞게 다양한 서버가 존재하며 다음과 같은 과정으로 통신서비스가 구현된다.

1. 클라이너트가 받고 싶은 서비스를 주문한다. ex) 000 웹사이트의 정보를 보고 싶다!
2. 서비스를 담당하는 서버에게 클라이언트의 요청을 전달한다.
3. 클라이언트의 주문대로 서비스를 제공한다.

```
서버에게 데이터를 보내는 것을 업로드라고 하며, 반대를 다운로드라고 한다.
```

## 데이터의 위치

서버에게 데이터를 요청할 때 데이터가 있는 곳을 확실하게 표시할 필요가 있다. 이떄 사용되는 것이 URL이다.

### URL

네트워크 상에 있는 특정 데이터 등을 표기할 때 사용되는 것이 URL(Uniform Resource Locator)이다. 이 URL을 자세히 살펴보면 다음과 같은 구조로 되어 있다.

http://www.cyber.co.kr:80/picbook/gabsoon/index.html

* http : 스킴명이라고 부르며, 서비스의 종류를 나타낸다. 숫자인 경우도 있다.
* www.cyber.co.kr : 도메인이라고 부르며, 서버를 나타낸다.
* picbook/gabsoon : 경로라고 부르며, 서버 내에서 파일의 주소를 나타낸다.
* index.html : 파일명이라고 부르며, 생략할 수도 있다.

정보를 요약해서 말하면 이 URL은 cyber.co.kr이란 웹 서버 내의 picbook/gabsoon에 위치한 index.html 파일을 나타낸다.

![image](https://user-images.githubusercontent.com/53935439/154795573-6681f231-923b-4a05-9578-678187ead794.png)
```
URL와 비슷하게 사용되는 용어인 URI를 들어본 적이 있을 것이다. 이 둘의 차이점은 다음과 같다.

URL : (Location) 컴퓨터 네트워크 상에서 리소스가 어디 있는지를 알려주기 위한 URL로 URI의 서브셋이다.
URI : (Identifier) 특정 리소스를 식별하는 통합 자원 식별자를 의미한다. 즉, 웹 기술에서 사용하는 논리적 또는 물리적 리소스를 식별하는 고유한 문자열 시퀀스이다.

요약하자면 URL은 위치를 가르키고, URI는 식별한다. 예를 들어 

http://www.cyber.co.kr:80/picbook/gabsoon/index

위 URI는 고유 문자열 시퀀스를 가지며 특정 리소스를 식별하는 URI이지만 리소스가 어디 있는지에 대한 정보가 빠져 있으므로 URL은 될 수 없다.

```

### 스킴명

스킴명은 서비스를 나타내며 다음과 같은 것들이 있다.

* http - WWW
* https - WWW(SSL/TLS)
* ttp - 파일 전송
* maitto - 전자메일
* telnet - 원격 로그인
* file - 로컬 파일

### 도메인

www.cyber.co.kr

* www : 서버명
* cyber : 조직명
* co : 조직 속성
* kr : 국가 코드

한국 기업 cyber의 www 서버

```
오른쪽으로 갈 수록 규모가 커짐
```

### gTLD 와 ccTLD

* gTLD : 나라에 상관없이 사용할 수 있는 조직 속성 (com, org 등)
* ccTLD : 국내에서만 사용할 수 있는 조직 속성 (co 등)

````
주요 gTLD

com - 상업용
org - 비영리 단체용
net - 네트워크 관련 기업용
biz - 비지니스용
info - 정보 서비스 관련 기업용
````

## WWW

### World Wide Web

웹 페이지는 페이즈의 일부분에 다른 페이지의 위치 정보를 심어놓음으로써 양쪽으로 연결 할 수 있는 하이퍼텍스트라는 문서로 작성된다.

WWW 서비스 : 하이퍼 텍스트를 사용하여 전 세계 인터넷에서 정보를 공개, 공유하는 서비스

### WWW 브라우저

WWW에 대한 클라이언트가 되는 것은 WWW(웹) 브라우저라는 애플리케이션이다. 서버로부터 받은 데이터를 사용자가 알기 쉬운 형식으로 표시한다.

ex) 크롬, 인터넷 익스플로러 등

### WWW 개요

WWW는 WWW서버와 WWW브라우저의 주고받기로 이루어지는데 이 주고받기는 HTTP라는 프로토콜을 기반으로 이루어진다.

## 전자메일

사용자끼리 문자나 파일을 손쉽게 주고받을 수 있는 서비스이다.

전자메일 서비스는 메일 서버와 메일러의 주고 받기로 이루어지는데, 주고 받을 때는 주로 두 개의 프로토콜이 사용된다.

* SMTP : 메일 전송을 담당하는 프로토콜
* POP : 클라이언트에게 메일 제공을 담당하는 프로토콜

일반적으로 한대의 컴퓨터가 SMTP서버와 POP서버를 겸임하고 있다.

A -> 메일서버(A) -> 메일서버(B) -> B

A에서 B로 보낼때는 위와 같은 과정을 거치며 상대 메일 서버까지는 SMTP를 이용해서 보내고, 메일은 받은 상대는 POP을 통해서 메일 서버로부터 메일을 확인한다.

## 파일 전송

파일 전송은 컴퓨터 간에 파일을 간단히 주고받을 수 있는 서비스로 WWW 서버에 웹 페이지의 데이터를 업로드할 때 사용된다.

유명한 파일 전송 서비스로는 FTP가 있고, FTP서버에 미리 공간을 확보해두고 클라이언트가 파일을 업로드하거나 다운로드 할 수 있다.

FTP에서는 데이터가 평문으로 전송되므로 보안에 문제가 있다. 따라서 암호화해서 전송하는 FTPS나 SFTP를 권장한다.

